:root{--bg:#f8fafc;--text:#334155;--muted:#64748b;--surface:#ffffff;--panel:#f8fafc;--border:#e2e8f0;--border-weak:#d1d5db;--row-divider:#f1f5f9;--topbar-bg:#1e293b;--topbar-text:#ffffff;--shadow-100:0 2px 4px rgba(0,0,0,0.1);--editor-mono:'Monaco','Consolas',monospace;--primary:#3b82f6;--primary-strong:#2563eb;--secondary:#6b7280;--danger:#ef4444;--success:#10b981;--hover:#f8fafc;--active-bg:#eff6ff;--active-text:#1d4ed8;--neutral-50:#f9fafb;--neutral-100:#f8fafc;--neutral-200:#f1f5f9;--neutral-300:#e2e8f0;--neutral-400:#d1d5db;--badge-draft-bg:#fff7ed;--badge-draft-fg:#9a3412;--badge-draft-br:#fdba74;--badge-final-bg:#ecfdf5;--badge-final-fg:#065f46;--badge-final-br:#6ee7b7;--ring-primary:rgba(59,130,246,0.1)}*{box-sizing:border-box}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#f8fafc;color:#334155}.topbar{background:#1e293b;color:white;padding:12px 24px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.topbar .left{display:flex;align-items:center;gap:8px}.app{display:grid;grid-template-columns:280px 1fr;height:calc(100vh - 60px)}.app.collapsed{grid-template-columns:0 1fr}.main{overflow-y:auto;padding:24px}.crumbs{font-size:0.9em;color:#64748b;margin-bottom:16px}.sidebar{background:white;border-right:1px solid #e2e8f0;overflow-y:auto;width:280px;transition:width 0.3s ease}.app.collapsed .sidebar{width:0}.app.collapsed .sidebar *{display:none}.sidebar-head{padding:16px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center}.nav-item,.doc-node,.list-item{padding:10px;cursor:pointer;transition:all 0.2s;display:flex;align-items:center}.nav-item{border-left:3px solid transparent;justify-content:flex-start}.nav-item.has-submenu{flex-direction:column;align-items:flex-start}.nav-item .submenu{list-style:none;padding-left:16px;width:100%;margin-top:4px}.doc-node,.list-item{justify-content:space-between;border-bottom:1px solid #f1f5f9}.nav-item:hover,.doc-node:hover,.list-item:hover{background:#f8fafc}.nav-item.active,.doc-node.active{background:#eff6ff;border-left-color:#3b82f6;color:#1d4ed8}.grid{display:grid;gap:16px}.grid-2{grid-template-columns:1fr 1fr}.grid-3{grid-template-columns:1fr 1fr 1fr}.content-panel{display:none}.content-panel.active{display:block}.btn{padding:8px 16px;border:1px solid #d1d5db;background:white;border-radius:6px;cursor:pointer;font-size:0.9em;transition:all 0.2s}.btn:hover{background:#f9fafb}.btn-primario{background:#3b82f6;color:white;border-color:#3b82f6}.btn-primario:hover{background:#2563eb}.btn-secundario{background:#6b7280;color:white;border-color:#6b7280}.btn-danger{background:#ef4444;color:white;border-color:#ef4444}.btn.btn-sm{padding:4px 8px;font-size:0.8em}.form-group{margin-bottom:16px}.form-group label{display:block;margin-bottom:4px;font-weight:500}.form-control{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:0.9em}.form-control:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,0.1)}.editor-toolbar{background:white;border:1px solid #e2e8f0;border-radius:8px;padding:12px;margin-bottom:16px;display:flex;gap:8px;flex-wrap:wrap}.editor{width:100%;height:400px;padding:16px;border:1px solid #e2e8f0;border-radius:8px;font-family:'Monaco','Consolas',monospace;font-size:14px;overflow-y:auto}.editor[contenteditable="true"]:empty:before{content:attr(data-placeholder);color:#9ca3af}.card{background:white;border:1px solid #e2e8f0;border-radius:8px;padding:16px;margin-bottom:16px}.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid #e2e8f0}.character-list,.location-list,.item-list,.document-list{max-height:300px;overflow-y:auto}.list-item{}.tag{display:inline-block;padding:2px 8px;background:#e2e8f0;border-radius:12px;font-size:0.8em;margin:2px}.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:0.75em;border:1px solid transparent}.badge-draft{background:#fff7ed;color:#9a3412;border-color:#fdba74}.badge-final{background:#ecfdf5;color:#065f46;border-color:#6ee7b7}.status-mini{font-size:0.8em;opacity:0.8;margin-left:12px}.dot{color:#10b981}.status-bar{background:#f8fafc;padding:12px 16px;margin-top:16px;border-radius:6px;font-size:0.9em;display:flex;gap:16px}.status-right{margin-left:auto}.tabs{display:flex;border-bottom:1px solid #e2e8f0;margin-bottom:16px}.tab{padding:12px 16px;cursor:pointer;border-bottom:2px solid transparent}.tab.active{border-bottom-color:#3b82f6;color:#3b82f6}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:1000}.modal.active{display:flex;align-items:center;justify-content:center}.modal-content{background:white;padding:24px;border-radius:8px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}.project-tree{padding:12px 16px}.book-node{font-weight:600;margin-bottom:8px;display:flex;align-items:center}#documentsTree{list-style:none;padding-left:0;margin:0}.doc-meta{font-size:0.8em;color:#64748b}.document-title{font-weight:600}.document-sub{font-size:0.85em;color:#64748b}.hidden{display:none}.ml-8{margin-left:8px}.m-0{margin:0}.mb-8{margin-bottom:8px}.list-unstyled{list-style:none;margin:0;padding:0}.flex-1{flex:1}.search-input{width:240px;display:inline-block}.text-muted{color:var(--muted)}.text-sm{font-size:0.9em}.text-xs{font-size:0.8em}.mt-4{margin-top:4px}.mt-8{margin-top:8px}.mt-12{margin-top:12px}.mt-16{margin-top:16px}.mt-20{margin-top:20px}.my-8{margin:8px 0}.text-right{text-align:right}.card-divider{border:none;border-bottom:1px solid var(--border);border-radius:0;margin:0}.timeline{border-left:3px solid var(--primary);padding-left:20px}.timeline-entry{margin-bottom:12px;position:relative}.timeline-dot{position:absolute;left:-26px;top:16px;width:12px;height:12px;border-radius:50%}.bg-primary{background:var(--primary)}.bg-success{background:var(--success)}.bg-warning{background:#f59e0b}.table{width:100%;border-collapse:collapse}.table thead tr{border-bottom:1px solid var(--border)}.table th{text-align:left;padding:8px}.table td{padding:8px}