<section id="editor" class="content-panel active">
  <div class="card">
    <div class="card-header">
      <h2>Editor de Texto Rico</h2>
    </div>
    
    <div class="editor-toolbar">
      <button class="btn" data-action="formatText" data-arg="bold" title="Negrito"><b>B</b></button>
      <button class="btn" data-action="formatText" data-arg="italic" title="ItÃ¡lico"><i>I</i></button>
      <button class="btn" data-action="formatText" data-arg="underline" title="Sublinhado"><u>U</u></button>
      <button class="btn" data-action="formatText" data-arg="strikethrough" title="Riscado"><s>S</s></button>
      <button class="btn" data-action="insertReference" title="Inserir referÃªncia" aria-label="Inserir referÃªncia">[ ]</button>
      <button class="btn" data-action="insertRef" data-arg="personagem" title="Inserir referÃªncia de personagem" aria-label="Inserir referÃªncia de personagem">ğŸ‘¤</button>
      <button class="btn" data-action="insertRef" data-arg="local" title="Inserir referÃªncia de local" aria-label="Inserir referÃªncia de local">ğŸŒ</button>
      <button class="btn" data-action="insertLocationRef" title="Inserir referÃªncia de local" aria-label="Inserir referÃªncia de local">ğŸŒ</button>
      <button class="btn" data-action="insertItemRef" title="Inserir referÃªncia de item" aria-label="Inserir referÃªncia de item">ğŸ“¦</button>
      <button class="btn btn-secundario" data-action="checkConsistency">âœ” ConsistÃªncia</button>

      <!-- NOVOS -->
      <div class="flex-1"></div>
      <button class="btn" id="draftToggleBtn" data-action="toggleDraft" title="Marcar como rascunho/final">ğŸ·ï¸ Rascunho</button>
      <button class="btn" id="grammarBtn" data-action="grammarReview" title="RevisÃ£o gramatical">âœï¸ RevisÃ£o</button>
      <button class="btn" data-action="undo" title="Desfazer (Ctrl/Cmd + Z)">â†º Desfazer</button>
      <button class="btn" data-action="redo" title="Refazer (Ctrl/Cmd + Y)">â†» Refazer</button>
      <button class="btn" data-action="clearFormatting" title="Limpar formataÃ§Ã£o">ğŸ§¹ Limpar</button>
      <button class="btn" id="saveTextBtn" data-action="saveText" title="Salvar texto (Ctrl/Cmd + S)">ğŸ’¾ Salvar</button>
    </div>

    <div id="grammarPanel" class="grammar-panel hidden">
      <div class="grammar-header">
        <strong>RevisÃ£o Gramatical</strong>
        <div>
          <button class="btn btn-sm" data-action="applyQuickFixes">Aplicar correÃ§Ãµes rÃ¡pidas</button>
          <button class="btn btn-sm" data-action="closeGrammarPanel">Fechar</button>
        </div>
      </div>
      <div id="grammarResults" class="grammar-results"></div>
    </div>
    
    <div class="form-group">
      <label for="documentTitle">TÃ­tulo do Documento</label>
      <input type="text" id="documentTitle" class="form-control" placeholder="Digite o tÃ­tulo..." value="HistÃ³ria sem tÃ­tulo">
    </div>

    <div class="chapter-header">
      <h2 class="chapter-title">CapÃ­tulo 1: A Jornada ComeÃ§a</h2>
      <div>
        <button class="btn btn-success" id="saveChapterBtn">Salvar CapÃ­tulo</button>
      </div>
    </div>
    
    <div class="form-group">
      <label for="chapterTitle">TÃ­tulo do CapÃ­tulo</label>
      <input type="text" id="chapterTitle" class="form-control" value="A Jornada ComeÃ§a">
    </div>
    
    <div class="form-group">
      <label for="chapterSummary">Resumo do CapÃ­tulo</label>
      <textarea id="chapterSummary" class="form-control" placeholder="Breve descriÃ§Ã£o do que acontece neste capÃ­tulo...">O protagonista deixa sua vila natal em busca de aventura, mas logo descobre que a jornada serÃ¡ mais perigosa do que imaginava.</textarea>
    </div>

    <div class="form-group">
      <label for="mainText">ConteÃºdo</label>
      <div id="mainText" class="editor" contenteditable="true" data-placeholder="Comece a escrever sua histÃ³ria... Use [Colchetes] para marcar referÃªncias a personagens, lugares e conceitos."></div>
    </div>
    
    <div class="status-bar">
      <span>Palavras: <strong id="wordCount">0</strong></span>
      <span>Caracteres: <strong id="charCount">0</strong></span>
      <span>ReferÃªncias: <strong id="refCount">0</strong></span>
      <span id="saveStatus">Rascunho local</span>
      <span class="status-right">
        Status: <span id="docStatusBadge" class="badge badge-draft">Rascunho</span>
      </span>
    </div>
  </div>
</section>

<section id="documents" class="content-panel">
  <div class="card">
    <div class="card-header">
      <h2>Textos do Projeto</h2>
      <div>
        <input type="text" id="docSearch" class="form-control search-input" placeholder="Buscar por tÃ­tulo..."/>
      </div>
    </div>

    <div id="documentsList" class="document-list"></div>
  </div>
</section>